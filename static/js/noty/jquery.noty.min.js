if(typeof Object.create!=='function')Object.create=function(a){function b(){}b.prototype=a;return new b();};(function(a){var b={init:function(b){this.options=a.extend({},a.noty.defaults,b);this.options.layout=(this.options.custom)?a.noty.layouts.inline:a.noty.layouts[this.options.layout];this.options.theme=a.noty.themes[this.options.theme];delete b.layout;delete b.theme;this.options=a.extend({},this.options,this.options.layout.options);this.options.id='noty_'+(new Date().getTime()*Math.floor(Math.random()*1000000));this.options=a.extend({},this.options,b);this._build();return this;},_build:function(){var b=a('<div class="noty_bar"></div>').attr('id',this.options.id);b.append(this.options.template).find('.noty_text').html(this.options.text);this.$bar=(this.options.layout.parent.object!==null)?a(this.options.layout.parent.object).css(this.options.layout.parent.css).append(b):b;if(this.options.buttons){this.options.closeWith=[];this.options.timeout=false;var c=a('<div/>').addClass('noty_buttons');(this.options.layout.parent.object!==null)?this.$bar.find('.noty_bar').append(c):this.$bar.append(c);var d=this;a.each(this.options.buttons,function(b,c){var e=a('<button/>').addClass((c.addClass)?c.addClass:'gray').html(c.text).appendTo(d.$bar.find('.noty_buttons')).bind('click',function(){if(a.isFunction(c.onClick))c.onClick.call(e,d);});});}this.$message=this.$bar.find('.noty_message');this.$closeButton=this.$bar.find('.noty_close');this.$buttons=this.$bar.find('.noty_buttons');a.noty.store[this.options.id]=this;},show:function(){var b=this;a(b.options.layout.container.selector).append(b.$bar);b.options.theme.style.apply(b);(a.type(b.options.layout.css)==='function')?this.options.layout.css.apply(b.$bar):b.$bar.css(this.options.layout.css||{});b.$bar.addClass(b.options.layout.addClass);b.options.layout.container.style.apply(a(b.options.layout.container.selector));b.options.theme.callback.onShow.apply(this);if(a.inArray('click',b.options.closeWith)>-1)b.$bar.css('cursor','pointer').one('click',function(){b.close();});if(a.inArray('hover',b.options.closeWith)>-1)b.$bar.one('mouseenter',function(){b.close();});if(a.inArray('button',b.options.closeWith)>-1)b.$closeButton.one('click',function(){b.close();});if(a.inArray('button',b.options.closeWith)==-1)b.$closeButton.remove();if(b.options.callback.onShow)b.options.callback.onShow.apply(b);b.$bar.animate(b.options.animation.open,b.options.animation.speed,b.options.animation.easing,function(){if(b.options.callback.afterShow)b.options.callback.afterShow.apply(b);b.shown=true;});if(b.options.timeout)b.$bar.delay(b.options.timeout).promise().done(function(){b.close();});return this;},close:function(){if(this.closed)return;var b=this;if(!this.shown){var c=[];a.each(a.noty.queue,function(a,d){if(d.options.id!=b.options.id)c.push(d);});a.noty.queue=c;return;}b.$bar.addClass('i-am-closing-now');if(b.options.callback.onClose)b.options.callback.onClose.apply(b);b.$bar.clearQueue().stop().animate(b.options.animation.close,b.options.animation.speed,b.options.animation.easing,function(){if(b.options.callback.afterClose)b.options.callback.afterClose.apply(b);}).promise().done(function(){if(b.options.modal){a.notyRenderer.setModalCount(-1);if(a.notyRenderer.getModalCount()==0)a('.noty_modal').fadeOut('fast',function(){a(this).remove();});}a.notyRenderer.setLayoutCountFor(b,-1);if(a.notyRenderer.getLayoutCountFor(b)==0)a(b.options.layout.container.selector).remove();if(typeof b.$bar!=='undefined'&&b.$bar!==null){b.$bar.remove();b.$bar=null;b.closed=true;}delete a.noty.store[b.options.id];b.options.theme.callback.onClose.apply(b);if(!b.options.dismissQueue){a.noty.ontap=true;a.notyRenderer.render();}});},setText:function(a){if(!this.closed){this.options.text=a;this.$bar.find('.noty_text').html(a);}return this;},setType:function(a){if(!this.closed){this.options.type=a;this.options.theme.style.apply(this);this.options.theme.callback.onShow.apply(this);}return this;},setTimeout:function(a){if(!this.closed){var b=this;this.options.timeout=a;b.$bar.delay(b.options.timeout).promise().done(function(){b.close();});}return this;},closed:false,shown:false};a.notyRenderer={};a.notyRenderer.init=function(c){var d=Object.create(b).init(c);(d.options.force)?a.noty.queue.unshift(d):a.noty.queue.push(d);a.notyRenderer.render();return(a.noty.returns=='object')?d:d.options.id;};a.notyRenderer.render=function(){var b=a.noty.queue[0];if(a.type(b)==='object'){if(b.options.dismissQueue)a.notyRenderer.show(a.noty.queue.shift());else if(a.noty.ontap){a.notyRenderer.show(a.noty.queue.shift());a.noty.ontap=false;}}else a.noty.ontap=true;};a.notyRenderer.show=function(b){if(b.options.modal){a.notyRenderer.createModalFor(b);a.notyRenderer.setModalCount(+1);}if(a(b.options.layout.container.selector).length==0)if(b.options.custom)b.options.custom.append(a(b.options.layout.container.object).addClass('i-am-new'));else a('body').append(a(b.options.layout.container.object).addClass('i-am-new'));else a(b.options.layout.container.selector).removeClass('i-am-new');a.notyRenderer.setLayoutCountFor(b,+1);b.show();};a.notyRenderer.createModalFor=function(b){if(a('.noty_modal').length==0)a('<div/>').addClass('noty_modal').data('noty_modal_count',0).css(b.options.theme.modal.css).prependTo(a('body')).fadeIn('fast');};a.notyRenderer.getLayoutCountFor=function(b){return a(b.options.layout.container.selector).data('noty_layout_count')||0;};a.notyRenderer.setLayoutCountFor=function(b,c){return a(b.options.layout.container.selector).data('noty_layout_count',a.notyRenderer.getLayoutCountFor(b)+c);};a.notyRenderer.getModalCount=function(){return a('.noty_modal').data('noty_modal_count')||0;};a.notyRenderer.setModalCount=function(b){return a('.noty_modal').data('noty_modal_count',a.notyRenderer.getModalCount()+b);};a.fn.noty=function(b){b.custom=a(this);return a.notyRenderer.init(b);};a.noty={};a.noty.queue=[];a.noty.ontap=true;a.noty.layouts={};a.noty.themes={};a.noty.returns='object';a.noty.store={};a.noty.get=function(b){return a.noty.store.hasOwnProperty(b)?a.noty.store[b]:false;};a.noty.close=function(b){return a.noty.get(b)?a.noty.get(b).close():false;};a.noty.setText=function(b,c){return a.noty.get(b)?a.noty.get(b).setText(c):false;};a.noty.setType=function(b,c){return a.noty.get(b)?a.noty.get(b).setType(c):false;};a.noty.clearQueue=function(){a.noty.queue=[];};a.noty.closeAll=function(){a.noty.clearQueue();a.each(a.noty.store,function(a,b){b.close();});};var c=window.alert;a.noty.consumeAlert=function(b){window.alert=function(c){if(b)b.text=c;else b={text:c};a.notyRenderer.init(b);};};a.noty.stopConsumeAlert=function(){window.alert=c;};a.noty.defaults={layout:'top',theme:'defaultTheme',type:'alert',text:'',dismissQueue:true,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:'toggle'},close:{height:'toggle'},easing:'swing',speed:500},timeout:false,force:false,modal:false,closeWith:['click'],callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){}},buttons:false};a(window).resize(function(){a.each(a.noty.layouts,function(b,c){c.container.style.apply(a(c.container.selector));});});})(jQuery);function noty(a){var b=0,c={'animateOpen':'animation.open','animateClose':'animation.close','easing':'animation.easing','speed':'animation.speed','onShow':'callback.onShow','onShown':'callback.afterShow','onClose':'callback.onClose','onClosed':'callback.afterClose'};jQuery.each(a,function(d,e){if(c[d]){b++;var f=c[d].split('.');if(!a[f[0]])a[f[0]]={};a[f[0]][f[1]]=e?e:function(){};delete a[d];}});if(!a.closeWith)a.closeWith=jQuery.noty.defaults.closeWith;if(a.hasOwnProperty('closeButton')){b++;if(a.closeButton)a.closeWith.push('button');delete a.closeButton;}if(a.hasOwnProperty('closeOnSelfClick')){b++;if(a.closeOnSelfClick)a.closeWith.push('click');delete a.closeOnSelfClick;}if(a.hasOwnProperty('closeOnSelfOver')){b++;if(a.closeOnSelfOver)a.closeWith.push('hover');delete a.closeOnSelfOver;}if(a.hasOwnProperty('custom')){b++;if(a.custom.container!='null')a.custom=a.custom.container;}if(a.hasOwnProperty('cssPrefix')){b++;delete a.cssPrefix;}if(a.theme=='noty_theme_default'){b++;a.theme='defaultTheme';}if(!a.hasOwnProperty('dismissQueue'))a.dismissQueue=jQuery.noty.defaults.dismissQueue;if(a.buttons)jQuery.each(a.buttons,function(a,c){if(c.click){b++;c.onClick=c.click;delete c.click;}if(c.type){b++;c.addClass=c.type;delete c.type;}});if(b)if(typeof console!=="undefined"&&console.warn)console.warn('You are using noty v2 with v1.x.x options. @deprecated until v2.2.0 - Please update your options.');return jQuery.notyRenderer.init(a);}